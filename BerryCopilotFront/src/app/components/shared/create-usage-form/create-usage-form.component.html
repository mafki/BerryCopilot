<div class="row">
    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-md-8">
                <div class="card cb">
                    @if (loading) {
                    <div class="card-header pb-0">
                        <div class="d-flex align-items-center">
                            <p class="mb-0">Create a usage</p>
                            <button (click)="next()"
                                class="btn btn-primary btn-sm ms-auto">Create</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <p class="text-uppercase text-sm">Usage</p>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">Usage name</label>
                                    <input class="form-control" type="text" placeholder="enter your Usage name"
                                        name="name" [(ngModel)]="name" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">PKI type</label>
                                    <select class="form-control"  name="type" [(ngModel)]="type" (click)="check()" required>
                                        @for (item of types; track item.id) {
                                            <option  [value]=item.value>{{item.value}}</option>
                                          }
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">PKI name</label>

                                    <input class="form-control" type="text" placeholder="enter your pki name"
                                        name="pki" [(ngModel)]="pki" />
                            </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">Certificate authority</label>
                                    <select class="form-control" name="ca" [(ngModel)]="ca" required>
                                        @for (item of listac; track item.id) {
                                            <option [value]=item.id>{{item.name}}</option>
                                          }
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">Certificate profile</label>
                                    <select class="form-control"  name="cpr" [(ngModel)]="cpr" required>
                                        @for (item of listpro; track item.id) {
                                            <option [value]=item.id>{{item.name}}</option>
                                          }      
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">Certificate policy</label>
                                    <select class="form-control"  name="cp" [(ngModel)]="cp" required>
                                        <option value="1" selected>Default</option>     
                                    </select>
                                </div>
                            </div>
                            <hr class="horizontal dark" />
                        <p class="text-uppercase text-sm">Csr generation mode</p>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="csry" [(ngModel)]="csry" value="" id="fcustomCheck1"
                                            checked="">
                                        <label class="custom-control-label" for="customCheck1">Request with CSR</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="csrn" [(ngModel)]="csrn" value="" 
                                            checked="">
                                        <label class="custom-control-label" for="customCheck1">Request without CSR</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">Default csr generation mode</label>
                                    <select class="form-control"  name="dcsr" [(ngModel)]="dcsr" required>
                                        <option value="DECENTRALIZED">Request with CSR</option>
                                        <option value="BERRYCERT_GENERATION_KEYPAIRS" selected>Generation of key pairs on BerryCert</option>   
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                            <hr class="horizontal dark" />
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">Key algo</label>
                                    <select class="form-control"  name="key_t" [(ngModel)]="key_t" required>
                                        <option value="RSA">RSA</option>
                                        <option value="ECDSA">ECDSA</option>    
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="example-text-input" class="form-control-label">Key size</label>
                                    <select class="form-control" name="key_s" [(ngModel)]="key_s" required>
                                        <option value="2048">2048</option>
                                        <option value="3072">3072</option>
                                        <option value="4096">4096</option>    
                                    </select>
                                </div>
                            </div>
                            </div>
                            
                            
                        </div>
                        
                    </div>}
                    @else {<div class="loading0">
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">Loading...</span>
                          </div>
                      </div>}
                </div>
            </div>
            <div class="col-md-4">
            </div>
        </div>
    </div>
</div>